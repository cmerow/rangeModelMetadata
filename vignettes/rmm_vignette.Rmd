---
title: "An overview of making rangeModelMetadata objects"
author: "Cory Merow, Brian Maitner, Hannah Owens"
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette:
    fig_caption: yes
    toc: true
    toc_depth: 3
vignette: >
  %\VignetteIndexEntry{An overview of making rangeModelMetadata objects}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(rangeModelMetadata)
```

A simple `rmm` object is a list.
```{r}
rmm1=rangeModelMetadataTemplate(useCase='apObligate')
str(rmm1)
```

A more complex `rmm` object with all predefined fields.
```{r}
rmm2=rangeModelMetadataTemplate(useCase='apAll')
str(rmm2)
```

Not sure what to enter in different fields? We can suggest options.

```{r}
rmmSuggest('dataPrep',fullFieldDepth=FALSE)
rmmSuggest('dataPrep',fullFieldDepth=TRUE) # for all fields below the specified one
rmmSuggest('dataPrep$errors$duplicateRemoval')
rmmSuggest('dataPrep$errors$duplicateRemoval$rule')
```

Another more complex example

```{r}
rmmSuggest('model')
rmmSuggest('model$algorithmSettings$')
rmmSuggest('model$algorithmSettings$maxent$')
rmmSuggest('$model$algorithmSettings$maxent$featureSet')
```


To make `rmm` objects portable to other interfaces, they are readily written to csv format.
```{r,eval=F}
outFile='~/Desktop/demo_rmmToCSV.csv'
rmmObj=rangeModelMetadataTemplate('apAll')
rmmToCSV(rmmObj,filename=outFile)
system(paste0('open ', outFile, ' -a "Microsoft Excel"'))
```

To make it easier to fill in important `rmm` fields with some autofill functions for common objects
```{r}
rmm=rangeModelMetadataTemplate(useCase='apAll')
#rmm=rmmAutofillPackageCitation(rmm,c('raster','sp'))
# rmmAutoFillData(rmm,species=)
# rmmAutoFillEnv(rmm,species=)
# rmmAutoFillTransferEnv(rmm,layer=1)
# rmmAutoFillMaxent(rmm,species=)
# rmmAutoFillPrediction(rmm,species=,layer=1)
rmm
```

To see what fields you might've missed...
```{r}
# rmmFindEmpties(rmm)
# rmmCleanEmpties(rmm)
```


